(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{436:function(e,t,a){"use strict";var n=a(3),r=a.n(n),o=a(18),i=a.n(o),s=a(83),c=a.n(s),l=a(692),u=a(230),d=a(116),f=a(0),m=a.n(f),p=a(11),g=a(99),h=a(9),y=a(2),b=a(693),v=a(405),k=a(71),j=a(4),E=a.n(j),x=a(5),w=a.n(x),D=a(7),C=a.n(D),S=a(6),_=a.n(S),I=a(8),O=a.n(I),T=a(32),P={iconHome:a(493),sevenLogo:a(494)},z="#ccc",B=function(e){function t(){return E()(this,t),C()(this,_()(t).apply(this,arguments))}return O()(t,e),w()(t,[{key:"render",value:function(){return this.props.isImage?m.a.createElement(y.a,null,m.a.createElement(T.a,{source:this.props.name,style:{width:40,height:40,marginBottom:-3},resizeMode:"cover"})):m.a.createElement(b.a,{name:this.props.name,size:26,style:{marginBottom:-3},color:this.props.focused?this.props.color:z})}}]),t}(m.a.Component),R=a(21),H=a(101),L=a(30);function A(){return m.a.createElement(y.a,{style:N.separator})}var F=function(e){function t(){return E()(this,t),C()(this,_()(t).apply(this,arguments))}return O()(t,e),w()(t,[{key:"render",value:function(){var e=this;return m.a.createElement(y.a,{style:N.container},m.a.createElement(y.a,{style:{flex:1,backgroundColor:"grey",justifyContent:"center",alignItems:"center"}},m.a.createElement(R.a,{style:{fontSize:20}},"\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01")),m.a.createElement(A,null),m.a.createElement(y.a,{style:{flex:2,backgroundColor:"red"}}),m.a.createElement(A,null),m.a.createElement(y.a,{style:{flex:1}},m.a.createElement(y.a,{style:N.actionMenuView},m.a.createElement(y.a,{style:N.actionMenu},m.a.createElement(H.a,{title:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",onPress:function(){return e.props.navigation.navigate("Item")},color:"#4d79ff"})),m.a.createElement(y.a,{style:N.actionMenu},m.a.createElement(H.a,{title:"\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34\u0e01\u0e32\u0e23\u0e08\u0e2d\u0e07",onPress:function(){return e.props.navigation.navigate("History")},color:"#33cc33"})))))}}]),t}(m.a.Component);F.navigationOptions={title:"\u0e08\u0e2d\u0e07\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 Premium",headerTitleStyle:{flex:1,textAlign:"center"}};var N=h.a.create({container:{flex:1,marginTop:L.a.statusBarHeight+5,paddingHorizontal:10},pageContent:{flex:1},button:{alignItems:"center",backgroundColor:"#DDDDDD",padding:10},actionMenuView:{flexDirection:"row"},actionMenu:{marginEnd:5},separator:{marginVertical:5}}),M=a(95),U=a(72),q=a(98),W=new Array;W.U="\u0e23\u0e2d Upload AllMember",W.K="\u0e23\u0e2d\u0e01\u0e32\u0e23\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e08\u0e32\u0e01\u0e23\u0e49\u0e32\u0e19\u0e2a\u0e32\u0e02\u0e32",W.R="\u0e17\u0e33\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e44\u0e21\u0e48\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08",W.C="\u0e23\u0e31\u0e1a\u0e08\u0e2d\u0e07\u0e40\u0e23\u0e35\u0e22\u0e1a\u0e23\u0e49\u0e2d\u0e22";var V=W,G=a(78);G.initializeApp({apiKey:"AIzaSyB6rhiakZ8JzVhAm9EXbG42hcpDEtuEg5E",authDomain:"allpremium-8a053.firebaseapp.com",databaseURL:"https://allpremium-8a053.firebaseio.com",projectId:"allpremium-8a053",storageBucket:"allpremium-8a053.appspot.com",messagingSenderId:"738447525141",appId:"1:738447525141:web:c91ec5e2459226255d951c",measurementId:"G-QGJN8CM0NC"});var K=new(function(e){function t(e){var a;return E()(this,t),(a=C()(this,_()(t).call(this,e))).queryData=function(e){var t,n;return r.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=[],n=a.fireBase.ref(e),r.abrupt("return",n.once("value").then((function(e){Object.values(e.val()).map((function(e,a){t.push(e)}))})).then((function(){return t})));case 3:case"end":return r.stop()}}))},a.queryDataObj=function(e){var t,n;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t="",n=a.fireBase.ref(e),o.next=4,r.a.awrap(n.once("value").then((function(e){t=e.val()})));case 4:return o.abrupt("return",t);case 5:case"end":return o.stop()}}))},a.queryDataObjII=function(e){return a.fireBase.ref(e).once("value")},a.queryFileStorage=function(e){var t,n;return r.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t="",n=a.fireStorage.ref(e),r.abrupt("return",n.getDownloadURL().then((function(e){t=e})).then((function(){return t})).catch((function(e){console.log("Exception : "+e.message_)})));case 3:case"end":return r.stop()}}))},a.queryRealTime=function(e,t){var n,o;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:n=[],o=a.fireBase.ref(e),void 0==t||""==t?o.orderByKey():o.orderByChild(t),o.on("value",(function(e){return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:Object.values(e.val()).map((function(e,t){n.push(e)}));case 2:case"end":return t.stop()}}))}));case 4:case"end":return i.stop()}}))},a.state={index:null,data:Object},console.disableYellowBox=!0,a.fireBase=G.database(),a.fireStorage=G.storage(),a}return O()(t,e),w()(t,[{key:"writeUserData",value:function(e,t,a){return G.database().ref(e).child(t).update(a)}},{key:"updateData",value:function(e,t,a){return console.log(e),console.log(t),console.log(a),new Promise((function(n){n(G.database().ref(e).child(t).update(a))}))}},{key:"listenerData",value:function(e,t){return G.database().ref(e).on("value",(function(e){return t(e)}))}},{key:"uploadImageAllmem",value:function(e,t){var a,n,o;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.a.awrap(fetch(t));case 2:return a=i.sent,i.next=5,r.a.awrap(a.blob());case 5:return n=i.sent,o=G.storage().ref().child("allmembarcode/"+e),i.abrupt("return",Promise.resolve(o.put(n)));case 8:case"end":return i.stop()}}))}},{key:"update",value:function(e,t){G.database().ref(e).set(t).catch((function(e){console.log("Erro message : "+e)}))}}]),t}(m.a.Component)),J=a(13),Y=a.n(J);function Q(e){switch(e.param.status){case"U":return m.a.createElement(R.a,{style:Z.fontHeaderWarnning},e.param.text," ");case"K":return m.a.createElement(R.a,{style:Z.fontHeaderInfo},e.param.text," ");case"R":return m.a.createElement(R.a,{style:Z.fontHeaderError},e.param.text," ");case"C":return m.a.createElement(R.a,{style:Z.fontHeaderSuccess},e.param.text," ");default:return m.a.createElement(R.a,{style:Z.fontHeaderError},e.param.text," ")}}var X=function(e){function t(e){var a;return E()(this,t),(a=C()(this,_()(t).call(this,e))).gotoOrderDetail=function(){a.props.navigation.navigate("HistoryDetail")},Y.a.locale("en"),a.state={text:"",status:"",productName:"",pic:"",orderNo:"",urlImage:""},a}return O()(t,e),w()(t,[{key:"getProductInfo",value:function(e){var t=this;K.queryDataObj(e).then((function(e){return new Promise((function(a){a(t.setState({productName:e.product_name,pic:e.pic})),a(K.queryFileStorage("/itemList/"+e.pic).then((function(e){t.setState({urlImage:e})})))}))}))}},{key:"componentDidMount",value:function(){this.setState({text:V[this.props.orderDetail.order_status],status:this.props.orderDetail.order_status,orderNo:this.props.orderDetail.order_no}),this.getProductInfo("tb_product_master/"+this.props.orderDetail.product_code)}},{key:"componentWillReceiveProps",value:function(e){this.setState({text:V[e.orderDetail.order_status],status:e.orderDetail.order_status,orderNo:e.orderDetail.order_no}),this.getProductInfo("tb_product_master/"+e.orderDetail.product_code)}},{key:"render",value:function(){return m.a.createElement(y.a,{style:Z.container},m.a.createElement(y.a,{style:Z.iconLayout},m.a.createElement(T.a,{resizeMode:"contain",style:{width:70,height:70,backgroundColor:"transparent"},source:{uri:this.state.urlImage}})),m.a.createElement(y.a,{style:Z.contentLayout},m.a.createElement(y.a,{style:{flexDirection:"row",alignItems:"center"}},m.a.createElement(Q,{param:this.state}),m.a.createElement(R.a,{style:{fontSize:10,flex:1,textAlign:"right"}},Y()(this.props.orderDetail.booking_timestamp).format("DD/MM/YYYY HH:MM:SS"))),m.a.createElement(y.a,{style:{flex:1,flexDirection:"row",marginTop:5,padding:2,borderRadius:5}},m.a.createElement(y.a,{style:{flex:1,backgroundColor:"white",padding:8,borderRadius:5}},m.a.createElement(R.a,{style:Z.fontDetailI},this.state.productName," "),m.a.createElement(R.a,{style:Z.fontDetailII},"Order # ",this.state.orderNo),m.a.createElement(R.a,{style:Z.fontDetailII},"\u0e08\u0e33\u0e19\u0e27\u0e19 # ",this.props.orderDetail.booking_qty," PCS.  "),m.a.createElement(R.a,{style:Z.fontDetailII},"\u0e41\u0e25\u0e01\u0e14\u0e49\u0e27\u0e22 # ","A"==this.props.orderDetail.booking_by?"All-Member":"M-Stamp"," ",this.props.orderDetail.booking_value," ","A"==this.props.orderDetail.booking_by?"\u0e04\u0e30\u0e41\u0e19\u0e19":"\u0e1a\u0e32\u0e17"," ")))))}}]),t}(f.Component),Z=h.a.create({container:{height:115,flexDirection:"row",marginTop:10,marginLeft:10,marginRight:10,borderRadius:5,backgroundColor:"#f6f6f6"},contentLayout:{flex:8,padding:5},iconLayout:{justifyContent:"center",alignItems:"center",padding:20},fontHeaderError:{fontFamily:"kanit-bold",color:"red"},fontHeaderWarnning:{fontFamily:"kanit-bold",color:"#D1CE05"},fontHeaderSuccess:{fontFamily:"kanit-bold",color:"green"},fontHeaderInfo:{fontFamily:"kanit-bold",color:"blue"},fontDetailI:{fontFamily:"kanit"},fontDetailII:{fontFamily:"kanit",fontSize:10,color:"#7d7d7d"}});a(602);var $=function(e){function t(e){var a;return E()(this,t),(a=C()(this,_()(t).call(this,e)))._render=function(e){return m.a.createElement(M.a,{onPress:function(){return a.props.navigation.navigate("HistoryDetail",{orderDetail:e.item,userid:a.state.userid})}},m.a.createElement(X,{orderDetail:e.item}))},a.state={orderDtl:[],userid:""},U.a.setItem("userid","0635162877"),a}return O()(t,e),w()(t,[{key:"getOrder",value:function(e,t){var a=this;K.listenerData(e,(function(e){a.getOrderData(e)}))}},{key:"getOrderData",value:function(e){var t=this,a=[],n=e.val(),r=Object.keys(n).map((function(e,t){return new Promise((function(t){t(a.push({allmem_barcode_pic:n[e].allmem_barcode_pic,booking_by:n[e].booking_by,booking_qty:n[e].booking_qty,booking_timestamp:n[e].booking_timestamp,booking_value:n[e].booking_value,confirm_timestamp:n[e].confirm_timestamp,firstname:n[e].firstname,invoice_pic:n[e].invoice_pic,lastname:n[e].lastname,notification_flag:n[e].notification_flag,order_status:n[e].order_status,order_no:n[e].order_no,phone:n[e].phone,product_code:n[e].product_code,reason_reject:n[e].reason_reject}))}))}));Promise.all(r).then((function(){t.setState({orderDtl:a})}))}},{key:"componentDidMount",value:function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e="",t.next=3,r.a.awrap(U.a.getItem("userid"));case 3:e=t.sent,this.getOrder("tb_user/user-"+e,"booking_timestamp"),this.setState({userid:e});case 6:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return m.a.createElement(y.a,null,m.a.createElement(q.a,{data:this.state.orderDtl,renderItem:this._render}))}}]),t}(m.a.Component);$.navigationOptions={title:"\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34"};h.a.create({container:{height:105,flexDirection:"row",marginTop:10,marginLeft:10,marginRight:10,borderRadius:5},contentLayout:{flex:8,padding:5},iconLayout:{justifyContent:"center",alignItems:"center",padding:20}});var ee=a(47),te=a(97),ae=function(e){function t(e){var a;return E()(this,t),(a=C()(this,_()(t).call(this,e))).state={inputBorder:"#cccccc",itemName:"",itemCount:""},a}return O()(t,e),w()(t,[{key:"onFocus",value:function(){this.setState({inputBorder:"#668cff"})}},{key:"clearText",value:function(){this.refs.itemName.clear(),this.refs.itemCount.clear(),this.refs.param.clear()}},{key:"render",value:function(){var e=this;return m.a.createElement(y.a,{style:ne.container},m.a.createElement(y.a,{style:ne.imagePanel},m.a.createElement(y.a,{style:ne.imageGrid},m.a.createElement(T.a,{source:P.sevenLogo,style:{width:"100%",height:"100%"},resizeMode:"contain"}))),m.a.createElement(y.a,{style:ne.formPanel},m.a.createElement(R.a,{style:ne.labelText},"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32 :"),m.a.createElement(ee.a,{ref:"itemName",placeholder:"",style:{height:40,borderColor:this.state.inputBorder,borderWidth:1,padding:5},autoCompleteType:"off",selectTextOnFocus:!0,defaultValue:this.state.itemName}),m.a.createElement(R.a,{style:ne.labelText},"\u0e08\u0e33\u0e19\u0e27\u0e19 :"),m.a.createElement(ee.a,{ref:"itemCount",placeholder:"0",style:{height:40,borderColor:this.state.inputBorder,borderWidth:1,padding:5},defaultValue:this.state.itemCount,keyboardType:"numeric",selectTextOnFocus:!0}),m.a.createElement(R.a,null,"Param \u0e08\u0e32\u0e01\u0e2b\u0e19\u0e49\u0e32\u0e2d\u0e37\u0e48\u0e19"),m.a.createElement(ee.a,{ref:"param",placeholder:"",style:{height:40,borderColor:this.state.inputBorder,borderWidth:1,padding:5},autoCompleteType:"off",selectTextOnFocus:!1,defaultValue:JSON.stringify(this.props.navigation.getParam("productCode","NO PARAM"))}),m.a.createElement(y.a,{style:ne.buttonPanel},m.a.createElement(y.a,{style:ne.actionButton},m.a.createElement(H.a,{title:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01",onPress:function(){return te.a.alert("Right button pressed")}})),m.a.createElement(y.a,{style:ne.actionButton},m.a.createElement(H.a,{title:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",onPress:function(){return e.clearText()},color:"red"})))))}}]),t}(m.a.Component);ae.navigationOptions={title:"\u0e08\u0e2d\u0e07\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"};var ne=h.a.create({container:{flex:1,marginTop:L.a.statusBarHeight+5,flexDirection:"column",paddingHorizontal:10},labelText:{fontSize:18},buttonPanel:{marginVertical:10,flexDirection:"row",marginEnd:5},actionButton:{marginEnd:5},imagePanel:{flex:1,justifyContent:"center",alignItems:"center"},imageGrid:{width:"85%",height:"85%",borderColor:"#000000",borderWidth:1,justifyContent:"center",alignItems:"center",borderRadius:10},formPanel:{flex:1}}),re=a(34),oe=a(172),ie=a(112),se=a(38),ce=function(e){function t(){return E()(this,t),C()(this,_()(t).apply(this,arguments))}return O()(t,e),w()(t,[{key:"render",value:function(){return m.a.createElement(y.a,{style:le.cardContainer},this.props.children)}}]),t}(m.a.Component),le=h.a.create({cardContainer:{flex:1,height:"100%",width:"100%",borderRadius:4,elevation:3,marginVertical:5,backgroundColor:"#d9d9d9"}});function ue(e){var t,a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],a=[],n.next=4,r.a.awrap(de(e));case 4:if(!((t=n.sent).length>0)){n.next=11;break}return n.next=8,r.a.awrap(fe(t));case 8:a=n.sent,n.next=12;break;case 11:te.a.alert("\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e");case 12:return n.abrupt("return",a);case 13:case"end":return n.stop()}}))}function de(e){var t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=[],a.next=3,r.a.awrap(K.queryData(e).then((function(e){e.forEach((function(e,a){t.push(e)}))})).then((function(){return t})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))}function fe(e){var t,a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],a=[],n.next=4,r.a.awrap(e.forEach((function(n,r){K.queryFileStorage("/itemList/"+n.pic).then((function(n){void 0!=n&&(a={data:e[r],imageUrl:n},t.push(a))})).then((function(){return t}))})));case 4:return n.abrupt("return",t);case 5:case"end":return n.stop()}}))}function me(e){return e.itemList.map((function(t,a){return m.a.createElement(se.a,{key:a,onPress:function(){return e.navProp.navigation.navigate("Booking",{productCode:t.data.product_code})},activeOpacity:1},m.a.createElement(pe,{object:t}))}))}function pe(e){var t=e.object;return m.a.createElement(ce,null,m.a.createElement(y.a,{style:{flexDirection:"row"},key:e.index},m.a.createElement(y.a,{style:{flex:.3,margin:3,backgroundColor:"#ffffff"}},m.a.createElement(T.a,{source:{uri:t.imageUrl},style:{width:"100%",height:"100%"},resizeMode:"contain"})),m.a.createElement(y.a,{style:{flex:1,flexDirection:"column",padding:5}},m.a.createElement(y.a,null,m.a.createElement(R.a,{style:{fontFamily:"kanit-bold",fontSize:15}},t.data.product_name)),m.a.createElement(y.a,{style:{backgroundColor:"#ffffff",borderRadius:10,padding:5}},m.a.createElement(R.a,null,"Point : ",t.data.all_point),m.a.createElement(R.a,null,"Stamp : ",t.data.m_stamp),m.a.createElement(R.a,null,"Cash : ",t.data.cash)))))}var ge=function(e){function t(e){var a;return E()(this,t),(a=C()(this,_()(t).call(this,e))).state={showLoader:!0,refreshing:!1,imageList:[],imageTest:""},a}return O()(t,e),w()(t,[{key:"componentWillMount",value:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(this.fetchData());case 2:case"end":return e.stop()}}),null,this)}},{key:"fetchData",value:function(){var e,t=this;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=[],a.next=3,r.a.awrap(ue("tb_product_master"));case 3:e=a.sent,setTimeout((function(){e.length>0&&t.setState({showLoader:!1,imageList:e})}),1e3);case 5:case"end":return a.stop()}}))}},{key:"_onRefresh",value:function(){var e=this;this.setState({showLoader:!1,refreshing:!0}),this.fetchData().then((function(){e.setState({refreshing:!1})}))}},{key:"render",value:function(){return this.state.showLoader?m.a.createElement(y.a,{style:he.spinner},m.a.createElement(oe.a,{size:"large",color:"#0000ff"})):m.a.createElement(y.a,{style:he.container},m.a.createElement(re.a,{showsVerticalScrollIndicator:!1,refreshControl:m.a.createElement(ie.a,{refreshing:this.state.refreshing,onRefresh:this._onRefresh.bind(this),colors:["blue"]})},m.a.createElement(me,{itemList:this.state.imageList,navProp:this.props})))}}]),t}(m.a.Component);ge.navigationOptions={title:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"};var he=h.a.create({container:{flex:1,paddingTop:L.a.statusBarHeight,paddingBottom:10,paddingHorizontal:10,flexDirection:"column"},spinner:{flex:1,marginTop:L.a.statusBarHeight,justifyContent:"center"}}),ye=a(49),be=a(438),ve=a(85),ke=a(57),je=function(e){function t(e){var a;return E()(this,t),a=C()(this,_()(t).call(this,e)),Y.a.locale("en"),a.state={uriUpload:null},a}return O()(t,e),w()(t,[{key:"componentDidMount",value:function(){this.setState({uriUpload:this.props.uriUpload})}},{key:"componentWillReceiveProps",value:function(e){this.setState({uriUpload:e.uriUpload})}},{key:"DispalyUpload",value:function(){return null==this.state.uriUpload?m.a.createElement(b.a,{name:"md-images",size:100,style:{justifyContent:"center",alignItems:"center"}}):m.a.createElement(T.a,{source:{uri:this.state.uriUpload},resizeMode:"contain",style:{width:150,height:150,backgroundColor:"transparent"}})}},{key:"render",value:function(){return m.a.createElement(y.a,null,this.DispalyUpload())}}]),t}(f.Component),Ee=(h.a.create({container:{height:115,flexDirection:"row",marginTop:10,marginLeft:10,marginRight:10,borderRadius:5,backgroundColor:"#f6f6f6"},contentLayout:{flex:8,padding:5},iconLayout:{justifyContent:"center",alignItems:"center",padding:20},fontHeaderError:{fontFamily:"kanit-bold",color:"red"},fontHeaderWarnning:{fontFamily:"kanit-bold",color:"#D1CE05"},fontHeaderSuccess:{fontFamily:"kanit-bold",color:"green"},fontHeaderInfo:{fontFamily:"kanit-bold",color:"blue"},fontDetailI:{fontFamily:"kanit"},fontDetailII:{fontFamily:"kanit",fontSize:10,color:"#7d7d7d"}}),function(e){function t(e){var a;return E()(this,t),(a=C()(this,_()(t).call(this,e))).getPermissionAsync=function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!L.a.platform.ios){t.next=6;break}return t.next=3,r.a.awrap(ke.c(ke.a));case 3:e=t.sent,"granted"!==e.status&&alert("Sorry, we need camera roll permissions to make this work!");case 6:case"end":return t.stop()}}))},a._pickImage=function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(be.a({mediaTypes:ve.a.All,allowsEditing:!0,aspect:[4,3],quality:1}));case 2:e=t.sent,console.log(e),e.cancelled||(a.setState({uriUpload:e.uri}),a.props.onUpdate(e.uri));case 5:case"end":return t.stop()}}))},a.state={uriUpload:null},a}return O()(t,e),w()(t,[{key:"render",value:function(){var e=this.state.uriUpload;return f.createElement(y.a,{style:{flex:1,alignItems:"center",justifyContent:"center"}},f.createElement(se.a,{style:xe.button,onPress:this._pickImage},f.createElement(je,{uriUpload:e})))}},{key:"componentDidMount",value:function(){this.getPermissionAsync(),console.log("hi")}}]),t}(f.Component)),xe=h.a.create({container:{justifyContent:"center",height:250,marginTop:10,marginLeft:10,marginRight:10,borderRadius:10,backgroundColor:"#f6f6f6"},containerInner:{justifyContent:"center",height:200,marginTop:10,marginLeft:10,marginRight:10,borderRadius:10,backgroundColor:"white"},containerReason:{justifyContent:"center",height:50,marginTop:10,marginLeft:10,marginRight:10,borderRadius:10,backgroundColor:"#f6f6f6"},contentLayout:{padding:5},iconLayout:{justifyContent:"center",alignItems:"center",padding:20},fontHeaderError:{fontFamily:"kanit-bold",color:"red"},fontButton:{fontFamily:"kanit-bold",color:"white"},button:{alignItems:"center",width:"50%",backgroundColor:"#F7A221",borderRadius:5,padding:10},fontHeaderWarnning:{fontFamily:"kanit-bold",color:"#D1CE05"},fontHeaderSuccess:{fontFamily:"kanit-bold",color:"green"},fontHeaderInfo:{fontFamily:"kanit-bold",color:"blue"},fontDetailI:{fontFamily:"kanit"},fontDetailII:{fontFamily:"kanit",fontSize:10,color:"#7d7d7d"},fontReason:{fontFamily:"kanit-bold",color:"blue",fontSize:12},fontReasonDetail:{fontFamily:"kanit-bold",fontSize:12}}),we=a(437),De=a(694),Ce=function(e){function t(e){var a;return E()(this,t),(a=C()(this,_()(t).call(this,e)))._picker=function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(we.a({type:"image/*",copyToCacheDirectory:!1}));case 2:e=t.sent,a.setState({uriUpload:e.uri});case 4:case"end":return t.stop()}}))},a.onUpdate=function(e){a.setState({uriUpload:e})},a.getToken=function(e,t){var n,o,i,s,c;return r.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return a.setState({loadToken:!0}),l.next=3,r.a.awrap(ke.d(ke.b));case 3:if(n=l.sent,o=n.status,i=o,"granted"===o){l.next=12;break}return l.next=9,r.a.awrap(ke.c(ke.b));case 9:s=l.sent,c=s.status,i=c;case 12:if("granted"===i){l.next=14;break}return l.abrupt("return");case 14:return l.t0=K,l.t1=e,l.t2=t,l.next=19,r.a.awrap(De.a.getExpoPushTokenAsync());case 19:l.t3=l.sent,l.t4={token:l.t3},l.t0.updateData.call(l.t0,l.t1,l.t2,l.t4);case 22:case"end":return l.stop()}}))},a.sendMessage=function(e){ye.a.dismiss();fetch("https://exp.host/--/api/v2/push/send",{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({to:e,sound:"default",title:"\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19",body:"\u0e21\u0e35\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07\u0e0b\u0e37\u0e48\u0e2d\u0e40\u0e02\u0e49\u0e32\u0e21\u0e32\u0e43\u0e19\u0e23\u0e30\u0e1a\u0e1a"})})},a.uploadData=function(){if(null==a.state.uriUpload)te.a.alert("\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19!!","\u0e01\u0e23\u0e38\u0e13\u0e32\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e23\u0e39\u0e1b All memeber Barcode",[{text:"\u0e15\u0e01\u0e25\u0e07"}]);else{var e=a.props.navigation,t=e.getParam("userid","NO-orderStatusMsg"),n=e.getParam("orderDetail","NO-orderStatusMsg");new Promise((function(e){e((new Date).getTime())})).then((function(e){K.updateData("tb_user/","user-"+t+"/order-"+n.order_no+"/",{booking_timestamp:e,allmem_barcode_pic:n.order_no+".PNG",order_status:"K"}),a.insertTransToStore(e,t,n)})),K.uploadImageAllmem(n.order_no+".PNG",a.state.uriUpload)}},a.state={orderDetail:[],uriUpload:null,loadToken:!1,token:"",message:""},a}return O()(t,e),w()(t,[{key:"componentWillMount",value:function(){console.log("############### AAAAAAAAAAAA ################")}},{key:"render",value:function(){var e=this.props.navigation;return m.a.createElement(y.a,null,m.a.createElement(re.a,null,m.a.createElement(y.a,null,m.a.createElement(X,{orderDetail:e.getParam("orderDetail","NO-orderStatusMsg")})),this.showDetail()))}},{key:"insertTransToStore",value:function(e,t,a){var n=this;K.queryDataObjII("tb_product_master/"+a.product_code).then((function(r){var o={order_no:a.order_no,booking_timestamp:e,confirm:"N",pic:r.val().pic,product_name:r.val().product_name,transaction_url:"tb_user/user-"+t+"/order-"+a.order_no};K.writeUserData("store-00005/","transaction/"+a.order_no,o).then((function(){n.props.navigation.navigate("History")})),n.getToken("store-00005/","transaction/"+a.order_no),n.sendMessage("ExponentPushToken[-IHQ6NO89P9Nyz-HK8wNyB]")}))}},{key:"showDetail",value:function(){var e=this,t=this.props.navigation.getParam("orderDetail","NO-orderStatusMsg");switch(t.order_status){case"U":case"R":return m.a.createElement(y.a,null,m.a.createElement(y.a,{style:Se.containerReason},m.a.createElement(R.a,{style:Se.fontReasonDetail},"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38*"),m.a.createElement(R.a,{style:Se.fontReasonDetail},t.reason_reject)),m.a.createElement(y.a,{style:Se.container},m.a.createElement(y.a,{style:[Se.containerInner,{alignItems:"center"}]},m.a.createElement(Ee,{uriUpload:this.state.uriUpload,onUpdate:this.onUpdate})),m.a.createElement(y.a,{style:{justifyContent:"center",alignItems:"center"}},m.a.createElement(se.a,{style:Se.button,onPress:function(){return e.uploadData()}},m.a.createElement(R.a,{style:Se.fontButton}," \u0e22\u0e37\u0e19\u0e22\u0e31\u0e19Barcode ")))));case"K":return m.a.createElement(y.a,{style:Se.container},m.a.createElement(T.a,{resizeMode:"contain",style:{width:"100%",height:"100%",backgroundColor:"transparent"},source:{uri:this.state.urlImage}}));case"C":return K.queryFileStorage("/eslip/"+t.invoice_pic).then((function(t){e.setState({urlImage:t})})),m.a.createElement(y.a,{style:Se.container},m.a.createElement(T.a,{resizeMode:"contain",style:{width:"100%",height:"100%",backgroundColor:"transparent"},source:{uri:this.state.urlImage}}));default:return m.a.createElement(y.a,{style:Se.container},m.a.createElement(T.a,{resizeMode:"contain",style:{width:"100%",height:"100%",backgroundColor:"transparent"},source:{uri:this.state.urlImage}}))}}}]),t}(m.a.Component);Ce.navigationOptions={title:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e01\u0e32\u0e23\u0e2a\u0e31\u0e48\u0e07\u0e08\u0e2d\u0e07"};var Se=h.a.create({container:{justifyContent:"center",height:250,marginTop:10,marginLeft:10,marginRight:10,borderRadius:10,backgroundColor:"#f6f6f6"},containerInner:{justifyContent:"center",height:200,marginTop:10,marginLeft:10,marginRight:10,borderRadius:10,backgroundColor:"white"},containerReason:{justifyContent:"center",height:50,marginTop:10,marginLeft:10,marginRight:10,borderRadius:10,backgroundColor:"#f6f6f6"},contentLayout:{padding:5},iconLayout:{justifyContent:"center",alignItems:"center",padding:20},fontHeaderError:{fontFamily:"kanit-bold",color:"red"},fontButton:{fontFamily:"kanit-bold",color:"white"},button:{alignItems:"center",width:"50%",backgroundColor:"#F7A221",borderRadius:5,padding:10},fontHeaderWarnning:{fontFamily:"kanit-bold",color:"#D1CE05"},fontHeaderSuccess:{fontFamily:"kanit-bold",color:"green"},fontHeaderInfo:{fontFamily:"kanit-bold",color:"blue"},fontDetailI:{fontFamily:"kanit"},fontDetailII:{fontFamily:"kanit",fontSize:10,color:"#7d7d7d"},fontReason:{fontFamily:"kanit-bold",color:"blue",fontSize:12},fontReasonDetail:{fontFamily:"kanit-bold",fontSize:12}}),_e=function(e){function t(e){var a;return E()(this,t),(a=C()(this,_()(t).call(this,e))).getToken=function(){var e,t,n,o,i,s,c;return r.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return a.setState({loadToken:!0}),l.next=3,r.a.awrap(ke.d(ke.b));case 3:if(e=l.sent,t=e.status,n=t,"granted"===t){l.next=12;break}return l.next=9,r.a.awrap(ke.c(ke.b));case 9:o=l.sent,i=o.status,n=i;case 12:if("granted"===n){l.next=14;break}return l.abrupt("return");case 14:return l.next=16,r.a.awrap(De.a.getExpoPushTokenAsync());case 16:s=l.sent,a.setState({token:s}),""!=a.state.token&&a.setState({loadToken:!1}),c={token:a.state.token},K.update("/userNoti/hok",c);case 21:case"end":return l.stop()}}))},a.sendMessage=function(){ye.a.dismiss();var e=fetch("https://exp.host/--/api/v2/push/send",{method:"POST",header:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({to:a.state.token,sound:"default",title:"\u0e17\u0e14\u0e2a\u0e2d\u0e1a Notification",body:a.state.message})});console.log("========== Response ==========="),console.log(e)},a.state={loadToken:!1,token:"",message:""},a}return O()(t,e),w()(t,[{key:"render",value:function(){var e=this;return m.a.createElement(y.a,{style:Ie.container},m.a.createElement(re.a,{keyboardShouldPersistTaps:"handled"},m.a.createElement(y.a,null,m.a.createElement(se.a,{style:{backgroundColor:"#33bbff",marginTop:10,height:50,alignItems:"center",justifyContent:"center"},onPress:this.getToken},m.a.createElement(R.a,{style:{textAlign:"center"}},"\u0e01\u0e14\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e23\u0e31\u0e1a token")),1==this.state.loadToken?m.a.createElement(oe.a,{size:"large",color:"#0000ff"}):m.a.createElement(R.a,{style:{textAlign:"center",marginTop:40}},this.state.token)),""==this.state.token?m.a.createElement(y.a,null):m.a.createElement(y.a,{style:{marginTop:20}},m.a.createElement(ee.a,{style:{borderColor:"#000000",borderWidth:1,padding:10},placeholder:"\u0e43\u0e2a\u0e48\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21 Noti",onChangeText:function(t){e.setState({message:t})}}),m.a.createElement(se.a,{style:{backgroundColor:"#00e600",marginTop:10,height:50,alignItems:"center",justifyContent:"center"},onPress:this.sendMessage},m.a.createElement(R.a,{style:{textAlign:"center"}},"\u0e01\u0e14\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e2a\u0e48\u0e07\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21")))))}}]),t}(m.a.Component);_e.navigationOptions={title:"\u0e17\u0e14\u0e2a\u0e2d\u0e1a Push Notification",headerTitleStyle:{flex:1,textAlign:"center"}};var Ie=h.a.create({container:{flex:1,marginTop:L.a.statusBarHeight,paddingHorizontal:10,justifyContent:"center"}}),Oe=(a(608),p.a.select({web:{headerMode:"screen"},default:{}})),Te=Object(k.createStackNavigator)({Home:F,Item:ge,History:$,HistoryDetail:Ce},Oe);Te.navigationOptions=function(e){e.navigation;return{tabBarLabel:"Home",tabBarIcon:function(e){var t=e.focused,a=e.tintColor;return m.a.createElement(B,{focused:t,isImage:!1,name:"ios-home",color:a})},tabBarOptions:{showLabel:!0,activeTintColor:"#ff0000"}}},Te.path="";var Pe=Object(k.createStackNavigator)({Booking:ae},Oe);Pe.navigationOptions=function(e){return{tabBarLabel:"Booking",tabBarIcon:function(e){var t=e.focused,a=e.tintColor;return m.a.createElement(B,{focused:t,isImage:!1,name:"ios-book",color:a})},tabBarOptions:{showLabel:!0,activeTintColor:"#ff0000"},tabBarVisible:0==e.navigation.state.index}},Pe.path="";var ze=Object(k.createStackNavigator)({History:$,HistoryDetail:Ce},Oe);ze.navigationOptions=function(e){e.navigation;return{tabBarLabel:"History",tabBarIcon:function(e){var t=e.focused,a=e.tintColor;return m.a.createElement(B,{focused:t,isImage:!1,name:"ios-bookmarks",color:a})},tabBarOptions:{showLabel:!1,activeTintColor:"#ff0000"}}},ze.path="";var Be=Object(k.createStackNavigator)({NotiHome:_e},Oe);Be.navigationOptions=function(e){e.navigation;return{tabBarLabel:"Noti",tabBarIcon:function(e){var t=e.focused,a=e.tintColor;return m.a.createElement(B,{focused:t,isImage:!1,name:"md-notifications",color:a})},tabBarOptions:{showLabel:!0,activeTintColor:"#ff0000"}}},Be.path="";var Re=Object(k.createBottomTabNavigator)({HomeStack:Te,BookingStack:Pe,HistoryStack:ze,NotiStack:Be});Re.path="";var He=Object(k.createAppContainer)(Object(k.createSwitchNavigator)({App:Re})),Le=Object(k.createSwitchNavigator)({Main:He});Le.path="";var Ae=Object(v.createBrowserApp)(Le,{history:"hash"});function Fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fe(a,!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Me(e){var t=Object(f.useState)(!1),a=c()(t,2),n=a[0],r=a[1];return n||e.skipLoadingScreen?m.a.createElement(y.a,{style:We.container},"ios"===p.a.OS&&m.a.createElement(g.a,{barStyle:"default"}),m.a.createElement(Ae,null)):m.a.createElement(l.a,{startAsync:Ue,onError:qe,onFinish:function(){return function(e){e(!0)}(r)}})}function Ue(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(Promise.all([u.a.loadAsync([a(672),a(673)]),d.b(Ne({},b.a.font,{"space-mono":a(674),kanit:a(675),"kanit-bold":a(676)}))]));case 2:case"end":return e.stop()}}))}function qe(e){console.warn(e)}a.d(t,"a",(function(){return Me}));var We=h.a.create({container:{flex:1,backgroundColor:"#fff"}})},443:function(e,t,a){a(444),e.exports=a(680)},444:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},493:function(e,t,a){e.exports=a.p+"static/media/home.bc49c211.png"},494:function(e,t,a){e.exports=a.p+"static/media/7Eleven.0760850a.png"},601:function(e,t,a){var n={"./af":256,"./af.js":256,"./ar":257,"./ar-dz":258,"./ar-dz.js":258,"./ar-kw":259,"./ar-kw.js":259,"./ar-ly":260,"./ar-ly.js":260,"./ar-ma":261,"./ar-ma.js":261,"./ar-sa":262,"./ar-sa.js":262,"./ar-tn":263,"./ar-tn.js":263,"./ar.js":257,"./az":264,"./az.js":264,"./be":265,"./be.js":265,"./bg":266,"./bg.js":266,"./bm":267,"./bm.js":267,"./bn":268,"./bn.js":268,"./bo":269,"./bo.js":269,"./br":270,"./br.js":270,"./bs":271,"./bs.js":271,"./ca":272,"./ca.js":272,"./cs":273,"./cs.js":273,"./cv":274,"./cv.js":274,"./cy":275,"./cy.js":275,"./da":276,"./da.js":276,"./de":277,"./de-at":278,"./de-at.js":278,"./de-ch":279,"./de-ch.js":279,"./de.js":277,"./dv":280,"./dv.js":280,"./el":281,"./el.js":281,"./en-SG":282,"./en-SG.js":282,"./en-au":283,"./en-au.js":283,"./en-ca":284,"./en-ca.js":284,"./en-gb":285,"./en-gb.js":285,"./en-ie":286,"./en-ie.js":286,"./en-il":287,"./en-il.js":287,"./en-nz":288,"./en-nz.js":288,"./eo":289,"./eo.js":289,"./es":290,"./es-do":291,"./es-do.js":291,"./es-us":292,"./es-us.js":292,"./es.js":290,"./et":293,"./et.js":293,"./eu":294,"./eu.js":294,"./fa":295,"./fa.js":295,"./fi":296,"./fi.js":296,"./fo":297,"./fo.js":297,"./fr":298,"./fr-ca":299,"./fr-ca.js":299,"./fr-ch":300,"./fr-ch.js":300,"./fr.js":298,"./fy":301,"./fy.js":301,"./ga":302,"./ga.js":302,"./gd":303,"./gd.js":303,"./gl":304,"./gl.js":304,"./gom-latn":305,"./gom-latn.js":305,"./gu":306,"./gu.js":306,"./he":307,"./he.js":307,"./hi":308,"./hi.js":308,"./hr":309,"./hr.js":309,"./hu":310,"./hu.js":310,"./hy-am":311,"./hy-am.js":311,"./id":312,"./id.js":312,"./is":313,"./is.js":313,"./it":314,"./it-ch":315,"./it-ch.js":315,"./it.js":314,"./ja":316,"./ja.js":316,"./jv":317,"./jv.js":317,"./ka":318,"./ka.js":318,"./kk":319,"./kk.js":319,"./km":320,"./km.js":320,"./kn":321,"./kn.js":321,"./ko":322,"./ko.js":322,"./ku":323,"./ku.js":323,"./ky":324,"./ky.js":324,"./lb":325,"./lb.js":325,"./lo":326,"./lo.js":326,"./lt":327,"./lt.js":327,"./lv":328,"./lv.js":328,"./me":329,"./me.js":329,"./mi":330,"./mi.js":330,"./mk":331,"./mk.js":331,"./ml":332,"./ml.js":332,"./mn":333,"./mn.js":333,"./mr":334,"./mr.js":334,"./ms":335,"./ms-my":336,"./ms-my.js":336,"./ms.js":335,"./mt":337,"./mt.js":337,"./my":338,"./my.js":338,"./nb":339,"./nb.js":339,"./ne":340,"./ne.js":340,"./nl":341,"./nl-be":342,"./nl-be.js":342,"./nl.js":341,"./nn":343,"./nn.js":343,"./pa-in":344,"./pa-in.js":344,"./pl":345,"./pl.js":345,"./pt":346,"./pt-br":347,"./pt-br.js":347,"./pt.js":346,"./ro":348,"./ro.js":348,"./ru":349,"./ru.js":349,"./sd":350,"./sd.js":350,"./se":351,"./se.js":351,"./si":352,"./si.js":352,"./sk":353,"./sk.js":353,"./sl":354,"./sl.js":354,"./sq":355,"./sq.js":355,"./sr":356,"./sr-cyrl":357,"./sr-cyrl.js":357,"./sr.js":356,"./ss":358,"./ss.js":358,"./sv":359,"./sv.js":359,"./sw":360,"./sw.js":360,"./ta":361,"./ta.js":361,"./te":362,"./te.js":362,"./tet":363,"./tet.js":363,"./tg":364,"./tg.js":364,"./th":365,"./th.js":365,"./tl-ph":366,"./tl-ph.js":366,"./tlh":367,"./tlh.js":367,"./tr":368,"./tr.js":368,"./tzl":369,"./tzl.js":369,"./tzm":370,"./tzm-latn":371,"./tzm-latn.js":371,"./tzm.js":370,"./ug-cn":372,"./ug-cn.js":372,"./uk":373,"./uk.js":373,"./ur":374,"./ur.js":374,"./uz":375,"./uz-latn":376,"./uz-latn.js":376,"./uz.js":375,"./vi":377,"./vi.js":377,"./x-pseudo":378,"./x-pseudo.js":378,"./yo":379,"./yo.js":379,"./zh-cn":380,"./zh-cn.js":380,"./zh-hk":381,"./zh-hk.js":381,"./zh-tw":382,"./zh-tw.js":382};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=601},672:function(e,t,a){e.exports=a.p+"static/media/robot-dev.54da1e98.png"},673:function(e,t,a){e.exports=a.p+"static/media/robot-prod.c7578911.png"},674:function(e,t,a){e.exports=a.p+"./fonts/SpaceMono-Regular.ttf"},675:function(e,t,a){e.exports=a.p+"./fonts/Kanit-Regular.ttf"},676:function(e,t,a){e.exports=a.p+"./fonts/Kanit-Bold.ttf"}},[[443,1,2]]]);
//# sourceMappingURL=../../bc1aa4009c5a427b9421.map